<div class="publication-tiles">
<% puts publications %>
<% if publications.nil? %>
This author currently has no publications.
<% else %>
<% publications.shuffle.each do |publication| %>
    <div class="item clearfix genre-<%= publication.genre_id.to_s %> size-<%= publication.title.split().length.to_s %>">
        <p class="text title"><%= link_to publication.title, publication_url(publication.id) %></p>
        <p class="text description"><%= publication.description %></p>
    </div>
<%end %>
<% end %>
</div>

<style>

.item {
    min-width: 25%;
    max-width: 50%;
    margin: 10px 70px;
    background-image: url(<%= image_url('shattered.png') %>);
}


.item .title {
    text-decoration: none;
    top: 53px;
    left: 3%;
    font-style: inherit;
    font-size: 2.5em;
    font-weight: 700;
}

.item .description {
    font-family: "Open Sans Condensed";
    font-style: italic;
    font-weight: 300;
}

.item.genre-1 {
    background-color: #23A38F;
}

.genre-2 {
    background-color: #B7C11E;
}

.genre-3 {
    background-color: #EFF1C2;
}

.genre-4 {
    background-color: #F0563D;
}

.genre-5 {
    background-color: #2E313D;
}

.size-2 {
    height: 320px;
    width: 320px;
}

.size-1 {
    width: 160px;
    height: 480px;
}

.size-3 {
    width: 480px;
    height: 160px;
}

.item * { 
    color: #FFF;
}

</style>

<script>

var wall = new freewall($(".publication-tiles")[0]);
wall.fitWidth($(".publication-tiles").width());


</script>